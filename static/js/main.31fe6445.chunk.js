(this["webpackJsonpfolders-react"]=this["webpackJsonpfolders-react"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(18),o=n.n(s),i=(n(25),n(9)),l=n(3),j=(n(26),function(){var e="View Archives",t="/archives";switch(Object(l.g)().pathname.split("/")[1]){case"archives":case"post":e="Go Home",t="/"}return Object(c.jsx)("footer",{children:Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsx)(i.b,{className:"archive",to:t,children:e})})})}),u=function(){var e,t=Object(l.g)(),n=Object(l.f)();switch(t.pathname.split("/")[1]){case"archives":e="Archived Posts";break;case"post":break;default:e="Recent Posts"}return e?Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h3",{children:e})})}):Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(i.b,{onClick:function(){return n.goBack()},children:["<-"," Go Back"]})})})},d=function(){return Object(c.jsx)("div",{className:"intro-header",children:Object(c.jsx)("header",{className:"page-header",children:Object(c.jsx)("nav",{className:"navbar navbar-fixed-top palette-turquoise",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"navbar-header",children:[Object(c.jsxs)("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false",children:[Object(c.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),Object(c.jsx)("span",{className:"icon-bar"}),Object(c.jsx)("span",{className:"icon-bar"}),Object(c.jsx)("span",{className:"icon-bar"})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("i",{className:"fui-folder"}),"The Folders Project"]})]}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"bs-example-navbar-collapse-1",children:Object(c.jsx)("h4",{className:"folder-title",children:"React!"})})]})})})})},h=n(2),p=n.n(h),b=n(5),m=n(11),x=function(e){var t=e.comment,n=e.index;return Object(c.jsxs)("article",{className:"post comment".concat(n%2===0?" odd":""),children:[Object(c.jsxs)("div",{className:"post-title",children:[Object(c.jsx)("img",{src:t.avatar,alt:"avatar"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:t.name})}),Object(c.jsx)("p",{className:"post-meta",children:t.createdAt})]})]}),Object(c.jsx)("p",{className:"post-content",children:t.content})]})},f=window.location.pathname.includes("localhost")?"http://localhost:3030":"https://llnl1.herokuapp.com";f+="/posts";var O=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(f).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(f,"?archived=true")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return fetch("".concat(f,"/").concat(e)).then((function(e){return e.json()}))},w=function(e){return fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:e})},N=function(e){return fetch("".concat(f,"/").concat(e,"/archive"),{method:"POST"})},y=window.location.pathname.includes("localhost")?"http://localhost:3030":"https://llnl1.herokuapp.com";y+="/comments";var S=function(e){return fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:e})},k=function(e){var t=e.type,n=void 0===t?"post":t,r=e.postId,s=void 0===r?null:r,o=e.onSuccess;Object(a.useEffect)((function(){window.localStorage.getItem("name")&&(document.getElementsByName("name")[0].value=window.localStorage.getItem("name")),window.localStorage.getItem("avatar")&&(document.getElementsByName("avatar")[0].value=window.localStorage.getItem("avatar"))}),[]);var i=function(){var e=Object(b.a)(p.a.mark((function e(t){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c="post"===n?w:S,a={name:t.target[0].value,avatar:t.target[1].value,content:t.target[2].value},"post"!==n&&(a.post_id=s),e.next=6,c(JSON.stringify(a));case 6:o(),t.target.reset(),a.name.length>0&&window.localStorage.setItem("name",a.name),a.avatar.length>0&&window.localStorage.setItem("avatar",a.avatar);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{id:"post-form",className:"new-post",onSubmit:i,children:[Object(c.jsxs)("div",{className:"details-wrapper",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{for:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Your name.."})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{for:"avatar",children:"Avatar"}),Object(c.jsx)("input",{type:"text",id:"avatar",name:"avatar",placeholder:"Enter a url for an image"})]})]}),Object(c.jsx)("textarea",{id:"content",name:"content",placeholder:"Share something",styles:{height:"200px"}}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})},C=function(e){var t=e.post,n=e.index,a=void 0===n?0:n,r=e.isPostView,s=void 0!==r&&r,o=e.onRefresh;return t.id?Object(c.jsxs)("article",{className:"post ".concat(a%2===0?"":" odd"),children:[Object(c.jsxs)("div",{className:"post-title",children:[Object(c.jsx)("img",{src:t.avatar,alt:"avatar"}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:t.name}),Object(c.jsx)("i",{class:"fui-cross",title:t.archived?"unarchive":"archive","data-post-id":t.id,"data-archived":t.archived,onClick:Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.archived;case 2:if(!e.sent){e.next=7;break}return e.next=5,n=t.id,fetch("".concat(f,"/").concat(n,"/unarchive"),{method:"POST"});case 5:e.next=9;break;case 7:return e.next=9,N(t.id);case 9:o();case 10:case"end":return e.stop()}var n}),e)})))})]}),Object(c.jsx)("p",{className:"post-meta",children:t.createdAt})]})]}),Object(c.jsxs)("p",{className:"post-content",children:[" ",t.content]}),!s&&Object(c.jsx)(i.b,{to:"/post/".concat(t.id),children:t.Comments.length>0?"Read More":"Be the first to comment"})]}):null},P=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,v();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("section",{className:"posts-container",children:n.map((function(e,t){return Object(c.jsx)(C,{post:e,index:t},e.id)}))})})},I=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,O();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);var s=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,O();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("section",{children:[Object(c.jsx)("h3",{children:"Add a new post"}),Object(c.jsx)(k,{onSuccess:s})]}),Object(c.jsx)("section",{className:"posts-container",children:n.map((function(e,t){return Object(c.jsx)(C,{post:e,index:t},e.id)}))})]})},T=function(){var e=Object(a.useState)({}),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(l.h)().id;Object(a.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,g(s);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,s]);var o=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,g(s);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.id?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C,{post:n,isPostView:!0}),n.Comments&&n.Comments.map((function(e,t){return Object(c.jsx)(x,{comment:e,index:t})})),Object(c.jsx)("h3",{children:"Add a Comment"}),Object(c.jsx)(k,{type:"comment",onSuccess:o,postId:n.id})]}):null};var E=function(){return Object(c.jsxs)(i.a,{children:[Object(c.jsx)(d,{}),Object(c.jsx)(u,{}),Object(c.jsx)("div",{className:"container-fluid full",children:Object(c.jsxs)("section",{className:"content row",children:[Object(c.jsx)("div",{className:"col-md-3"}),Object(c.jsx)("main",{className:"col-md-6",children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/archives",children:Object(c.jsx)(P,{})}),Object(c.jsx)(l.a,{path:"/post/:id",children:Object(c.jsx)(T,{})}),Object(c.jsx)(l.a,{path:"/",children:Object(c.jsx)(I,{})})]})}),Object(c.jsx)("div",{className:"col-md-3"})]})}),Object(c.jsx)(j,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),F()}},[[33,1,2]]]);
//# sourceMappingURL=main.31fe6445.chunk.js.map